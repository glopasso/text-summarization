Irbil, Iraq (CNN)After hours of heavy fighting, Kurdish fighters in Iraq have repelled an assault by ISIS fighters southwest of Irbil, Kurdish officials said.
Kurdish commanders say ISIS fighters had threatened to overrun Kurdish defensive positions in the area for a while, and the two sides were so close that airstrikes were not possible.
But by 3 a.m. local time Wednesday, the Peshmerga had succeeded in forcing ISIS back, allowing airstrikes to begin.
The commanders said about 40 ISIS fighters were killed, and Kurdish forces suffered several casualties. They said airstrikes contributed to the ISIS deaths.
ISIS launched the major assault from several directions Tuesday night near the towns of Gwer and Makhmour.
The towns are about 45 kilometers (28 miles) from Irbil, the Kurdish capital.
A CNN team was in the area less than two weeks ago and was told by fighters at the front that ISIS was making almost daily attempts to infiltrate through Kurdish lines, which are strung out along a stretch of the River Zab.
Fortifications are few and far between. Volunteer fighters have very little in the way of weaponry.
In January, nearly 30 Peshmerga fighters were killed in the area by a surprise ISIS attack across the river.
Kurdish fighters battle equipment woes as well as ISIS in northern Iraq
Kurdish officials said they were concerned ISIS fighters would break through their lines. Had that happened, there would be little standing between ISIS and the Kurdish capital.
Tuesday's attacks were likely aimed at drawing the already stretched Kurdish forces in many different directions to relieve the pressure on Mosul, which ISIS seized in June.
Kurdish forces recently have been trying to surround Mosul to cut off ISIS' lines of supply from Syria, setting up what could be an eventual assault to try to expel the terror group from the city.
CNN's Catherine E. Shoichet contributed to this report.
