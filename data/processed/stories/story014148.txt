Ten people were killed Tuesday when a gunman rampaged through a Finnish college, police officials said.
Officials say Matti Juhani Saari began firing in a classroom at the college before shooting himself. Over the course of 90 minutes, Saari fired a few shots at police, Finnish broadcaster YLE said.
Jukka Forsberg, a maintenance worker at the school, told YLE that the gunman was wearing a ski mask and walked into the building with a large bag. About 150 students were on campus Kauhajoki city's School of Hospitality in southwestern Finland.
Forsberg said, "I heard several dozen rounds of shots. In other words, it was an automatic pistol. I saw some female students who were wailing and moaning, and one managed to escape out the back door."
Smoke billowed from a building on campus, but officials could not immediately say what caused the fire.  Watch pictures from the scene »
Tapio Varmola, who was visiting the school at the time, told CNN he was in a building about two blocks away when the shootings occurred.
After the shootings, he said, he heard students shouting. Police came about 10 minutes after they were called, Varmola said.
"It took two hours to get this situation ended," he said.
Saari, 22, died Tuesday afternoon from a self-inflicted gunshot wound to the head at Tampere University Hospital, said medical director Matti Lehto. At least one other person suffered serious injuries in the shooting, he added.
Police had interviewed and released Saari on Monday after he posted violent videos on YouTube, authorities said.
As Saari did not directly threaten anyone in the videos, there were no grounds for further action, national police Commissioner Mikko Paatero told YLE.
Authorities learned about the videos Friday but could not reach Saari until Monday, Paatero told YLE. Police also searched his home, YLE reported.
Four videos of a man firing a pistol at a shooting range were posted by a "Mr. Saari" from Kauhajoki, where the college is based, according to his YouTube profile.
The profile also included a video tribute to the Columbine High School shooters, Eric Harris and Dylan Klebold, at the top of the man's favorites list.
The videos were posted over a three-week period this month. None was posted in the last week.  Watch more about the YouTube videos »
The account was suspended within hours of the shooting, which began about 11 a.m. local time (0800 GMT).
MTV-3's Foreign Editor Risto Puolimatka told CNN that Saari was also issued with a temporary gun license last month. It was the gunman's first license, Puolimatka said.
Finnish President Tarja Halonen expressed her condolences from the United Nations, where she is attending the annual General Assembly.
She also commented on the YouTube videos.
"We, parents and elderly people, have a little bit of feeling about the Internet," she said at an impromptu TV interview. "It's like a strange planet for us. But it's not so. It's part of our world, so we have to step in."
She praised efforts by police, who she said "were already on board" by interviewing Saari. Authorities hoped that was enough to take care of any threat, but "now we see that it was not," she said.
The school taught late teens and young adults, Jarkko Sipila of MTV 3 told CNN. "It's more or less like an agricultural or professional school where people teach how to make food or how to cook in big kitchen, in industrial kitchens," he said.
Kauhajoki, with a population of about 15,000, is about 290km (180 miles) from the capital, Helsinki.
The incident comes almost a year after another school shooting left nine people, including the gunman, dead in the Finnish town of Tuusala.
Before that shooting, the gunman, 18-year-old student Pekka-Eric Auvinen, posted a video on YouTube titled "Jokela High School Massacre 11/7/2007," identifying the date and location of the attack.
"All these memories are being brought back and people are asking the question, 'Why again?' " Sipila said.
Finland enjoys a strong tradition of hunting and has a high proportion of gun ownership, with 2 million firearms owned in a nation of 5 million people.
