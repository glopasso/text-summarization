NEW: Petraeus to resign from military once confirmed, sources say.
It took a meeting with Obama to convince Panetta to take the job, a source says.
Petraeus will be nominated as CIA chief.
It is the most extensive reshaping of Obama's national security team to date.
